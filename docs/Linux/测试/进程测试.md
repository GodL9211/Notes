# 进程测试

## 性能指标

应用程序的性能指标：
- qps：每秒完成的查询数。
- tps：每秒完成的事务数，表示平均每秒能处理的事务数。比如用户向服务器发出一个请求，服务器后端可能查询多次，再返回结果给用户。
- rt：响应时间，表示处理一条请求的响应时间。
- 出错率

## 相关命令

### strace

```shell
strace <command>          # 执行一条命令并跟踪它
       -c                 # 统计每种系统调用的次数、用时
       -e read,write,open # 只显示某些系统调用的信息
       -e trace=file      # 只显示某类系统调用的信息
       -tt                # 在每行的开头显示时间
       -T                 # 在每行的末尾显示这次系统调用的耗时，比如<0.000007>

strace -p <pid>           # 跟踪一个进程
```
- 例：
    ```shell
    [root@Centos ~]# strace -e trace=file echo hello 
    execve("/usr/bin/echo", ["echo", "hello"], [/* 22 vars */]) = 0
    access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
    open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
    open("/lib64/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
    open("/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3
    hello
    +++ exited with 0 +++
    ```
