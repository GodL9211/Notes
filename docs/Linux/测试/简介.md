# 简介

## 测试工具

根据行为的不同，可以将 Linux 的测试工具分为两类：
- 检查工具：检查系统的静态信息或动态信息。
  - 系统的静态信息：比如磁盘容量、网卡带宽，一般只需查看一次。
  - 系统的动态信息：比如磁盘读写速度、网卡收发速度，表示系统的运行状态，可能需要每秒检查一次。
- 测试工具：主动实施某种行为来测试系统。
  - 比如模拟大量的网络请求，从而测试网络性能。
  - 测试工具一般会运行一段时间，然后显示测试结果。也可以在运行测试工具时，用其它工具检查系统的动态信息。

## 测试思路

先用 top、vmstat、sar 等命令检查系统的宏观状态，再用其它工具检查系统的细节指标。
- 主要看性能指标的最大值、稳定性。
- 如果发现系统某方面异常，分析是某个进程导致的还是系统本身的问题。
- 除了使用测试工具，还要检查各种日志。

常见的测试项：
- CPU
  - 空闲 CPU 是否足够、平均负载是否很大
- 进程
  - 是否有僵尸进程。
- 内存
  - 可用内存是否足够、是否使用了 swap 。
- 磁盘
  - CPU 的 iowait 百分比是否一直很大、磁盘 IO 速度、iowait 时长
- 网络
  - 用 ping 测试与某个主机的网络是否连通（前提是对方启用了 ICMP 协议）。
  - 用 telnet 测试能否访问到某个主机的某个端口。
  - 用 curl 测试能否访问到某个 HTTP 服务器。
  - 用 sar -n DEV 查看本机网络端口的收发速率。
  - 用 iperf 测试 TCP、UDP 的带宽。
  - 用 ab、wrk、Jmeter 进行 HTTP 压测。
