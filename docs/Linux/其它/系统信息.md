# 系统信息

## 系统名称

```sh
cat /etc/*release    # 查看系统发行版本的信息
```

### uname

```sh
$ uname              # 显示内核名
        -a           # 显示内核的全部信息
        -n           # 显示主机名
        -p           # 显示 CPU 类型
        -r           # 显示内核的版本号
```

### hostname

```sh
$ hostname           # 显示主机名
            [name]   # 临时修改主机名（重启后会复原）
```

### hostnamectl

```sh
$ hostnamectl        # 显示主机名、操作系统、内核版本等信息
            --static set-hostname <name>  # 永久地设置主机名
```

### localctl

```sh
$ localectl          # 显示本地化信息，比如语言
            set-locale LANG=zh_CN.utf8 # 设置语言
```

## 日志

### journalctl

```sh
$ journalctl         # 显示系统日志（默认显示全部日志）
            -f       # 跟踪日志的末尾并保持显示
            -u ssh   # 只显示某个 unit 的日志
            -b       # 只显示本次开机以来的日志
            -b -1    # 只显示上一次开机的日志（取值为+1 则表示正数第 1 次开机）
            --since "2019-08-12 17:00:00" # 只显示从某个时间点开始的日志
            --until "2019-08-14 00:00:00" 
            --since "1 hour ago"
            --until "10 min ago"
```

### systemd-analyze

```sh
$ systemd-analyze       # 显示系统启动的耗时
                blame   # 分别显示系统启动时各个进程的耗时
```

## 时间

系统每次开机时，会从 BIOS 读取硬件时间，根据它设置系统时间。
- BIOS 中的定时器由电池供电，会独立累计硬件时间。而系统运行时，会根据 CPU tick 定时器来累计系统时间。
- 系统运行一段时间后，系统时间可能与硬件时间产生误差，也可能与互联网标准时间产生误差。

### date

```sh
$ date                       # 显示系统时间（本地时区）
      -u                     # 显示系统时间（UTC 时区）
      +"%Y-%m-%d"            # 按指定格式显示年、月、日
      +"%H:%M:%S"            # 按指定格式显示时、分、秒
      +%s                    # 显示时间戳（UTC 时区，以秒为单位）
      -s "20001201 12:00:00" # 设置系统时间
```
- 例：
    ```sh
    [root@Centos ~]# date
    Fri Dec  6 08:50:14 CST 2019
    ```
    - CST 是时区 China Standard Time 的缩写。
- 修改时间可能会导致正在运行的进程出错，因此最好在系统刚启动时修改时间。

### clock

```sh
$ clock             # 显示硬件时间（UTC 时区）
        --localtime # 显示硬件时间（本地时区）
        -s          # 根据硬件时间，设置当前的系统时间
        -w          # 根据当前的系统时间，设置硬件时间
 
```
- 例：
    ```sh
    [root@Centos ~]# clock
    Fri 06 Dec 2019 08:50:14 AM CST  -0.606412 seconds
    ```
    - -0.606412 seconds 表示硬件时间比系统时间慢了 0.6 秒多。

### cal

```sh
$ cal        # 查看本月的日历
      -y     # 查看今年的日历
      2000   # 查看指定年份的日历
      1 2000 # 查看指定月份的日历
```

### timedatectl

```sh
$ timedatectl                          # 显示本地时间、时区、UTC 时间、是否进行 NTP 同步
            list-timezones             # 显示所有可用的时区
            set-timezone Asia/Shanghai # 设置时区
```

### ntpdate

- ntp ：一个用于同步计算机时间的协议。
- 安装：
    ```sh
    yum install ntp
    ```
- 用法：
    ```sh
    $ ntpdate 1.cn.pool.ntp.org    # 与官方的中国 ntp 服务器同步时间
    ```
