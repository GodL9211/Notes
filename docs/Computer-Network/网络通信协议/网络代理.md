# 网络代理

## 代理服务器

：Proxy Server ，用于代替一个主机与其它主机进行通信。
- 工作在会话层，代理应用层的消息。
- 常见的几种代理服务器：
  - HTTP 代理
  - FTP 代理
  - Socket 代理：工作在应用层与传输层之间，比 HTTP 代理更底层、更快。
    - Socks4 只支持 TCP 连接，而 Socks5 还支持 UDP 连接、密码认证。

### 正向代理

：代替客户端，向服务器发出访问请求。
- 可以隐藏客户端的实际 IP 。
- 可以使客户端访问到某些代理服务器才能访问的网络。
- 可以担任防火墙，过滤客户端发送、接收的数据。
  - 不过客户端的通信数据都要经过代理服务器，可能被篡改、泄露。

### 反向代理

：代替服务器，接收客户端的访问请求。
- 可以隐藏服务器的实际 IP 。
- 可以动态更改将客户端的流量转发到哪个服务器，比如实现负载均衡。

## VPN

：虚拟私有网络（Virtual Private Network），由公网上的几台主机组成一个虚拟的私有网络。
- 常用于通过公网连接到某个私网的网关，建立一条专用信道，从而访问该私网。这个功能属于网络代理。

## shadowsocks

：一种基于 Socket5 协议的代理协议。
- 支持设置密码，加密传输的数据。
- 在一台主机上启动 ss 服务器之后，在本机用 ss 客户端连接到它，即可代理本机流量。
- [下载 ss 客户端](https://github.com/shadowsocks/shadowsocks-windows/releases)

### Shadowsocks-libev

：一个用 C 语言实现的 ss 服务器。
- 支持 AEAD Cipher 加密算法。
- 支持 Obfs 混淆，可以将 ss 流量伪装成 http 流量。
- 用 docker 启动服务器：
    ```sh
    docker run -d --name shadowsocks --network host shadowsocks/shadowsocks-libev ss-server -s 0.0.0.0 -p 3000 -k ****** -m aes-256-gcm
- 服务器的命令：
    ```sh
    ss-server               # 启动服务器
            -c config.json  # 使用某个配置文件

            -s 0.0.0.0      # 设置服务器监听的 IP
            -p 3000         # 设置服务器监听的端口
            -k 123456       # 设置服务器的认证密码
            -m aes-256-gcm  # 设置服务器的加密方式
    ```
    ```

## V2Ray

：一个代理软件。
- 采用自身原创的 VMess 代理协议，也兼容 HTTP、Shadowsocks 等协议。
