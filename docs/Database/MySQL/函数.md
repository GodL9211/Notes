# 函数

> TODO:待补充

MySQL 函数：https://www.runoob.com/mysql/mysql-functions.html

- 关于字符串的函数：
```sql
SELECT RTRIM(' hello ');  -- 去除字符串右侧的空字符
SELECT LTRIM(' hello ');  -- 去除字符串左侧的空字符
SELECT TRIM(' hello ');   -- 去除字符串两侧的空字符

SELECT UPPER('hello');    -- 将每个字符转换为大写。该例结果为：HELLO
SELECT LOWER('hello');    -- 将每个字符转换为小写

SELECT LENGTH('hello');   -- 返回字符串的长度。该例结果为：5
SELECT SUBSTRING('hello', 1);     -- 返回字符串的子串，从第 1 个字符开始的所有字符。该例结果为：hello
SELECT SUBSTRING('hello', 1, 2);  -- 返回字符串的子串，从第 1 个字符开始的最多 2 个字符。该例结果为：he

SELECT CONCAT('a', 'b', 'c');         -- 将多个字符串拼接为一个字符串。该例结果为：a,b,c
SELECT CONCAT_WS(',', 'a', 'b', 'c'); -- 用分隔符拼接字符串。该例结果为：abc

select ASCII('hello');    -- 返回第一个字符的 ASCII 码
```

- 关于数学运算的函数：
```sql
SELECT FORMAT(3.15, 1);     -- 保留 1 位小数，多余的小数位会四舍五入。该例结果为：3.12
SELECT FORMAT(3.15, 3);     -- 保留 3 位小数，不足的小数位会用 0 填充。该例结果为：3.150
SELECT FORMAT('3.14', 1);   -- 输入字符串类型的值时，能自动转换成小数。该例结果为：3.1
SELECT FORMAT('hello', 1);  -- 该例结果为：0.0
```

- 关于时间的函数：
```sql
mysql> select now();                # 返回当前时间
+---------------------+
| now()               |
+---------------------+
| 2020-04-30 11:26:21 |
+---------------------+
1 row in set (0.00 sec)

mysql> select date_format(now(), '%Y-%m-%d %H:%i:%s');    # 返回指定格式的时间
+---------------------------------------+
| date_format(now(), '%Y-%m-%d %H:%i:%s') |
+---------------------------------------+
| 2020-04-30 11:41:37                     |
+---------------------------------------+
1 row in set (0.00 sec)

mysql> SELECT to_days('1-1-1');             # 返回从公元 0 年开始的天数
+------------------+
| to_days('1-1-1') |
+------------------+
|              366 |
+------------------+
1 row in set (0.00 sec)

mysql> SELECT to_days(now()) - to_days('1-1-1');
+-----------------------------------+
| to_days(now()) - to_days('1-1-1') |
+-----------------------------------+
|                            737544 |
+-----------------------------------+
1 row in set (0.00 sec)

mysql> SELECT UNIX_TIMESTAMP("2020-04-30 11:41:37");    # 返回时间戳
+---------------------------------------+
| UNIX_TIMESTAMP("2020-04-30 11:41:37") |
+---------------------------------------+
|                            1588218097 |
+---------------------------------------+
1 row in set (0.00 sec)

mysql> SELECT round((UNIX_TIMESTAMP(now()) - UNIX_TIMESTAMP("2020-04-30 11:41:37")) / 60);  # 计算两个时间相差的分钟数
+-----------------------------------------------------------------------------+
| round((UNIX_TIMESTAMP(now()) - UNIX_TIMESTAMP("2020-04-30 11:41:37")) / 60) |
+-----------------------------------------------------------------------------+
|                                                                           8 |
+-----------------------------------------------------------------------------+
1 row in set (0.00 sec)
```

```sql
SELECT COUNT(*) FROM student;   # 计算返回的数据的 row 数
select version();   # 查看版本号

```
