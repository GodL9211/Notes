# 简介

## Web 服务

- 欧洲核子研究组织的 Tim Berners-Lee 发明了世界上第一个 Web 网站和浏览器，后来发展成为因特网（Internet）上普及的万维网（World Wide Web）。
  - 1994 年，他建立了万维网联盟（又称为 W3C 理事会），主持万维网的标准。
- Web 服务是因特网上最常被人们使用的服务。
  - 用户通过浏览器可以访问一个 Web 网站，查看其显示页面。
  - Web 网页的内容通常是 HTML 格式的文本，由一个 Web 服务器提供，通过 HTTP 协议传输给用户。
- Web 服务器：负责接收客户端发来的 HTTP 请求报文，并回复 HTTP 响应报文。
  - Web 服务器通常会将它要显示的信息保存为 HTML 格式的文本，回复给 Web 客户端。
  - 一个主机通常要运行专业的服务器软件才能成为 Web 服务器，还要一直保持运行。
- Web 客户端：通过 HTTP 协议访问 Web 服务器上的资源。
  - 一个主机随时都可以使用浏览器等工具成为 Web 客户端，获取 Web 服务器的数据。

例如，用户在 Web 浏览器中访问百度的流程为：
1. 用户在 Web 浏览器的地址栏中输入百度的域名，按下回车开始访问。
2. 浏览器向 DNS 服务器发送百度的域名，查询到百度的 Web 服务器的 IP 地址。
3. 浏览器与百度的 Web 服务器建立 TCP 连接，然后发送 HTTP Request 报文。
4. 服务器收到请求后返回 HTTP Response 报文，并断开本次 TCP 连接。报文的 body 中包含了百度首页的 HTML 文本。
5. 浏览器从 Response 报文中解析出 HTML 文本，显示给用户看。
    <br>如果 HTML 文本中包含了其它链接，浏览器会再根据这些链接发出 HTTP 请求。

## Web 服务器

### 主要分类

- 静态服务器：收到 HTTP 静态请求时能直接拿出静态资源回复，但不能处理 HTTP 动态请求。
  - 比如 Apache、Nginx 。
  - 主要用途：
    - 独立运行一个静态网站。
    - 在前后端分离架构中，用作前端服务器。
  - 静态资源：不会变化的数据或文件。比如 html 文件、js 文件、css 文件、图片、视频。
  - 静态网站：只能提供静态资源的网站，其显示内容、行为都是预设好的，大多不能变化。
    - 与用户的交互性差，不能接收、存储用户的数据。
    - 只负责处理 HTTP 静态请求，因此访问速度比动态网站快很多。
    - 运行开销很小，甚至 GitHub Pages 等平台愿意免费帮用户运行静态网站。

- 动态服务器：不止能处理 HTTP 静态请求，还能处理 HTTP 动态请求。
  - 比如 tomcat、Django、Flask 。
  - 通常要在服务器上运行一些程序来处理 HTTP 动态请求，它们被称为 Web 应用、CGI 程序、后端程序，可以用 JavaScrypt、php、Python 等语言编写。
  - 通用网关接口（Common Gateway Interface ，CGI）：定义了 Web 服务器与 Web 应用之间的 API 规范。

### 常见架构

- 前后端合一：由一台服务器接收 HTTP 请求并返回 HTTP 响应。
  - 结构较简单，但可扩展性较差，适合小型网站。

- 前后端分离：由前端（front-end）服务器处理客户端的静态请求，遇到动态请求时才转发给后端（back-end）服务器处理。
  - 有利于解耦、分布式集群、提高前端效率、降低后端压力。
  - 前端服务器通常是静态服务器，后端服务器通常是动态服务器。
  - 前端、后端服务器之间通常通过 RESTful API 进行通信。

## Web 浏览器

Web 浏览器按从上到下的顺序逐行解析 HTML 文件，一边解析一边显示给用户看。
- 解析到 href 时，会在后台下载链接的资源，不影响前台进程。
- 解析到 src 时，会等该资源加载完毕再继续解析。
- 解析到 JavaScript 时，会加载并执行该脚本，然后再继续解析。
  - 因此应该将 script 标签放在 body 的最后部分，避免阻塞前台进程。
  - 或者使用 async 属性，等加载了该脚本之后再执行。
  - 或者使用 defer 属性，等加载了该脚本、解析了整个 HTML 之后再执行。
- 不同 Web 浏览器支持的 HTML 语法有所差异，因此需要考虑 HTML 文件的兼容性问题。

## Web 开发

Web 开发分为两种方向：
- 前端开发：主要是研究 Web 客户端，比如在 Web 浏览器上显示网页、与用户交互。
- 后端开发：主要是研究 Web 服务器，比如开发服务器程序、与 Web 客户端交互。
  - Web 网站可以只进行前端开发，忽略后端开发，只要能提供 HTML 等前端文件给 Web 客户端显示即可，不过这样做出来的是静态网站。

## 其它概念

- PV ：页面浏览量（Page Views），一般是统计网站的所有页面被访问的总次数，用户每刷新一次页面就加一次浏览量。
- UV ：独立访客数（Unique Visitor），一般是统计访问网站的 IP 地址数。
