# 简介

## 微服务

：Microservices ，一种服务端架构，将业务系统从单个大型服务，拆分成多个小型服务，有利于模块化。
- 特点：
  - 每个微服务独立部署，低耦合。
  - 微服务之间通过 API 交互，可以采用不同的编程语言。
  - 需要一个服务发现机制，让微服务之间能够连通。
  - Docker 技术流行之后，微服务变得容易实现。通常将每个微服务部署到一个 Docker 容器中，用 k8s 编排。

- 从头搭建微服务系统很麻烦，通常使用开源的微服务框架。例如：
  - Spring Cloud
    - ：一个 Java 框架。微服务之间通过 RESTful API 进行通信，性能比 RPC 低。
  - Dubbo
    - ：一个 Java 框架，由阿里巴巴公司发布。微服务之间通过 RPC 协议进行通信。

- 单体服务工作时主要调用一些内部函数，较少与外部交互。而微服务之间经常相互调用，存在大量 API 请求，因此通常使用 API 网关来统一管理。例如：
  - Zuul
    - ：由 Netflix 公司开源，成为了 Spring Cloud 自带的组件。
    - 性能较差，因此出现了试图取代它的新项目 Spring Cloud Gateway 。
  - Kong
    - ：一个基于 OpenResty 服务器的网关。
    - 提供了 7 层代理、4 层代理（TCP/UDP）、动态路由、健康检查、限流、身份认证、权限控制、日志、监控等功能。
  - APISIX
    - ：一个基于 OpenResty 服务器的网关，比 Kong 的功能、性能更好。
    - 2019 年开源，由 ASF 基金会管理。
    - 采用 etcd 数据库。
    - 提供了 Web 操作页面。
    - 支持多种语言开发的插件。

## 服务网格

：Service Mesh ，新一代的微服务技术，于 2016 年提出。
- 特点：
  - 引入一个网络代理层，自动转发服务的流量，并进行服务发现、负载均衡。
  - 属于透明代理，不需要服务编写代码来使用代理。
- 常见的几种框架：
  - Envoy ：2016 年，由 Lyft 公司发布，后来捐赠给 CNCF 基金会托管。采用 C++ 开发。
  - Linkerd ：2016 年，由 Buoyant 公司发布。采用 Golang 开发。
  - Istio ：2017 年，由 Google、IBM、Lyft 公司联合发布。采用 Golang 开发，基于 Envoy 代理流量。
  - Consul Connect ：2018 年，由 HashiCorp 公司发布，作为 Consul 的新功能。
